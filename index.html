<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kino Pro WebApp</title>
    <style>
        :root { --main-purple: #7b42f5; --bg-dark: #0a0a0a; }
        body { background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }
        
        .header { width: 100%; padding: 15px; text-align: center; background: #111; border-bottom: 2px solid var(--main-purple); font-weight: bold; }

        /* Video zona */
        #player-container { width: 100%; max-width: 600px; position: relative; display: none; margin-top: 10px; }
        video { width: 100%; border-radius: 10px; box-shadow: 0 0 20px rgba(123, 66, 245, 0.4); }

        /* Binafsha panel */
        .controls-card { 
            background: linear-gradient(145deg, #7b42f5, #4b0082); 
            margin: 15px; padding: 20px; border-radius: 20px; width: 90%; max-width: 550px;
        }

        .row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        
        select, .btn { 
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); 
            color: white; padding: 10px; border-radius: 10px; cursor: pointer; outline: none;
        }

        .upload-area { 
            margin-top: 50px; border: 2px dashed var(--main-purple); 
            padding: 40px; border-radius: 20px; text-align: center; cursor: pointer;
        }

        /* Sifatni pasaytirish uchun filtr */
        .low-res { filter: blur(1.2px) contrast(90%); }
        .mid-res { filter: blur(0.5px); }
        .high-res { filter: none; }
    </style>
</head>
<body>

    <div class="header">ðŸŽ¬ KINO PRO APP</div>

    <div id="upload-zone" class="upload-area" onclick="document.getElementById('fileInput').click()">
        <span style="font-size: 40px;">ðŸ“‚</span>
        <p>Telefoningizdan kino tanlang</p>
        <input type="file" id="fileInput" hidden accept="video/*" onchange="handleVideo(event)">
    </div>

    <div id="player-container">
        <video id="mainVideo" controls controlsList="nodownload"></video>
        
        <div class="controls-card">
            <div class="row">
                <span id="fileName" style="font-size: 14px; opacity: 0.9;">Kino nomi...</span>
                <span id="resBadge" style="background: red; padding: 2px 6px; border-radius: 5px; font-size: 10px;">HD</span>
            </div>

            <div class="row">
                <div>
                    <label>Sifat: </label>
                    <select id="resSelect" onchange="applyQuality()">
                        <option value="high">1080p (Original)</option>
                        <option value="mid">720p (O'rta)</option>
                        <option value="low">480p (Past)</option>
                    </select>
                </div>

                <div>
                    <label>Tezlik: </label>
                    <select onchange="document.getElementById('mainVideo').playbackRate = this.value">
                        <option value="1">1x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2">2x</option>
                    </select>
                </div>
            </div>
            
            <button class="btn" style="width: 100%;" onclick="location.reload()">BOSHQA KINO TANLASH</button>
        </div>
    </div>

    <script>
        const video = document.getElementById('mainVideo');
        const container = document.getElementById('player-container');
        const uploadZone = document.getElementById('upload-zone');

        function handleVideo(event) {
            const file = event.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                video.src = url;
                document.getElementById('fileName').innerText = file.name.substring(0, 30);
                
                uploadZone.style.display = 'none';
                container.style.display = 'block';
                video.play();
            }
        }

        function applyQuality() {
            const res = document.getElementById('resSelect').value;
            const badge = document.getElementById('resBadge');
            
            // Sifatni o'zgartirish: Brauzerda bitta faylni haqiqiy o'lchamini o'zgartirib bo'lmaydi,
            // lekin CSS Render orqali piksellarni qayta ishlash eng yaqin yo'li.
            video.className = ""; // Eski klasni o'chirish
            if (res === 'low') {
                video.classList.add('low-res');
                badge.innerText = "480p";
                badge.style.background = "#555";
            } else if (res === 'mid') {
                video.classList.add('mid-res');
                badge.innerText = "720p";
                badge.style.background = "orange";
            } else {
                video.classList.add('high-res');
                badge.innerText = "1080p";
                badge.style.background = "red";
            }
        }
    </script>
</body>
</html>
